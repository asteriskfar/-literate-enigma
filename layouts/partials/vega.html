{{ if eq 0 .ordinal }}
<script src="https://vega.github.io/vega/vega.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
{{ end }}


{{ $viz := "force" }}
{{ if eq "bar" (index .params 0)  }}{{ $viz = (index .params 0)}}{{ end}}
{{ if eq $viz "force" }}
<div class="vega-wrapper">
  <div id="view"></div>
</div>
<script>
  vegaEmbed(
    '#view',
    '/vega.json',
    {"actions": false,
    "renderer":"svg"
    }
  );
</script>
{{ end }}

{{ if eq $viz "bar" }}
<div class="vega-wrapper">
  <div id="view-bar"></div>
</div>

<script>
  vegaEmbed(
    '#view-bar',
    '/vega-bar.json',

    {"actions": false,
    "renderer":"svg"
    }
  );
</script>

{{ end }}

{{ with .inner }}
<div class="vega-caption-text">
  {{ . | markdownify }}
</div>
{{ end }}